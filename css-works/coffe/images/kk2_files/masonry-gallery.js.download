(function($,wpzoomRecipeCard){'use scrict';const W=$(window);const B=$('body');const D=$(document);let $gridGallery=$('.direction-step-gallery'),$grid=$('.direction-step-gallery-grid[data-gallery-masonry-grid="true"]'),desktopGridCol=$gridGallery.data('grid-columns'),tabletGridCol=desktopGridCol>2?3:2,mobileGridCol=2,gridGutter=8;const breakXLarge=1080;const breakMobile=480;function masonry(itemSelector,columnWidth){$grid.imagesLoaded(function(){const Masonry=$grid.masonry({itemSelector,columnWidth,transitionDuration:'0.2s',percentPosition:!0,gutter:gridGutter,});Masonry.on('layoutComplete',function(){if($gridGallery.hasClass('is-loading')){$gridGallery.removeClass('is-loading');$gridGallery.find('.direction-step-gallery-preloader').remove()}})})}
function rebuildMasonry(){const columnWidth='.direction-step-gallery-item';if(W.width()>=breakXLarge){if(!$gridGallery.hasClass(`columns-${ desktopGridCol }`)){$gridGallery.removeClass(`columns-${ tabletGridCol } columns-${ mobileGridCol }`);$gridGallery.addClass(`columns-${ desktopGridCol }`)}}else if(W.width()<breakXLarge&&W.width()>=breakMobile){if(!$gridGallery.hasClass(`columns-${ tabletGridCol }`)){$gridGallery.removeClass(`columns-${ desktopGridCol } columns-${ mobileGridCol }`);$gridGallery.addClass(`columns-${ tabletGridCol }`)}}else{if(!$gridGallery.hasClass(`columns-${ mobileGridCol }`)){$gridGallery.removeClass(`columns-${ desktopGridCol } columns-${ tabletGridCol }`);$gridGallery.addClass(`columns-${ mobileGridCol }`)}}
masonry('.direction-step-gallery-item',columnWidth)}
window.rebuildPrintMasonry=(print_window)=>{let $gridGallery=$(document).find('.direction-step-gallery'),$grid=$('.direction-step-gallery-grid[data-gallery-masonry-grid="true"]'),gridCol=$gridGallery.data('grid-columns');if(!$gridGallery.length){setTimeout(function(){print_window.print()},500);print_window.onfocus=function(){setTimeout(function(){print_window.close()},500)};return}
$gridGallery.removeClass(`columns-${ gridCol }`).addClass('columns-4');$grid.imagesLoaded(function(){const PrintMasonry=$grid.masonry({initLayout:!1,columnWidth:'.direction-step-gallery-item',percentPosition:!0,gutter:8,});PrintMasonry.on('layoutComplete',function(){if($gridGallery.hasClass('is-loading')){$gridGallery.removeClass('is-loading');$gridGallery.find('.direction-step-gallery-preloader').remove()}
setTimeout(function(){print_window.print()},500);print_window.onfocus=function(){setTimeout(function(){print_window.close()},500)}});setTimeout(function(){PrintMasonry.masonry()},250)})};W.on('resize load',function(){rebuildMasonry()});$(function(){rebuildMasonry()})}(jQuery,wpzoomRecipeCard))
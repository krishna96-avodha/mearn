!function(){"use strict";var c,t;(t=c=c||{})[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Debug=2]="Debug";var r=["color: #fff;","background: #ff8f1c;","display: inline-block;","padding: 1px 4px;","border-radius: 3px;"].join(" "),h=(s.Log=function(t,e){if(!(s.LOGLEVEL<t)){var i=c[t].toUpperCase(),o=window.navigator.userAgent,n=0<o.indexOf("MSIE ")||0<o.indexOf("Trident/");window.console&&(n?console.log("[PubTag] "+i+": "+e):console.log("%cPubTag",r,i+": "+e))}},s.Debug=function(t){s.Log(c.Debug,t)},s.Warning=function(t){s.Log(c.Warning,t)},s.Error=function(t){s.Log(c.Error,t)},s.LOGLEVEL=c.Error,s);function s(){}var o,e,a=(i.prototype.processData=function(){var t,e=null===(t=this.widget)||void 0===t?void 0:t.getUserData();if(!e.isDeclined)return e.ifaToken},i.prototype.getIfaToken=function(e){var i=this;if(this.widget)if(this.token)e(this.token);else{var t=function(){var t=i.processData();t&&e(t)};this.widget.addEventListener("loaded",t),this.widget.addEventListener("updated",t)}},i.prototype.getValue=function(){return this.token},i.widgetName="wdgt-identification",i);function i(){var t=this;if(this.widget=document.querySelector(i.widgetName),this.widget){var e=function(){t.token=t.processData()};this.widget.addEventListener("loaded",e),this.widget.addEventListener("updated",e)}}function u(e,i){try{return decodeURIComponent(e)}catch(t){return void 0!==i?i:e}}(e=o=o||{})[e.None=0]="None",e[e.Cookie=1]="Cookie",e[e.LocalStorage=2]="LocalStorage";var f=(g.prototype.synchronizeCriteoUid=function(t,e){var i=this;if(this.gdprConsent=t,this.topWin.addEventListener)if("complete"===this.topDoc.readyState||this.isPubTagIds)this.appendGumIframeIfDoesNotExist(e);else{var o=function(){i.topDoc.removeEventListener("DOMContentLoaded",o),i.topWin.removeEventListener("load",o),i.appendGumIframeIfDoesNotExist(e)};this.topWin.addEventListener("load",o,!1),this.topDoc.addEventListener("DOMContentLoaded",o,!1)}},g.prototype.appendGumIframeIfDoesNotExist=function(r){var s=this,t=this.createGumIframe();this.topDoc.getElementById(g.SYNCFRAME_ID)||(this.topWin.addEventListener("message",function(t){var e=t.data;if(e&&t.origin==g.SYNCFRAME_ORIGIN)if(t.stopImmediatePropagation(),e.optout)s.setClientSideOptOut(),s.deleteClientSideUid(),s.deleteClientSideSecureId(),s.deleteBundle();else{if(e.uid&&s.setClientSideUid(e.uid),e.callbacks)for(var i=0,o="string"==typeof e.callbacks?[e.callbacks]:e.callbacks;i<o.length;i++){var n=o[i];(new Image).src=n}else e.bundle&&(s.setBundle(e.bundle),r&&r(e.enableEsp?e.bundle:""));e.removeSid?s.deleteClientSideSecureId():e.sid&&s.setClientSideSecureId(e.sid)}},!0),this.topDoc.body.appendChild(t))},g.prototype.getClientSideUid=function(){return this.getFromAllStorages(g.GUID_COOKIE_NAME)},g.prototype.setClientSideUid=function(t){this.writeOnAllStorages(g.GUID_COOKIE_NAME,t,g.GUID_RETENTION_TIME_HOUR)},g.prototype.deleteClientSideUid=function(){this.deleteFromAllStorage(g.GUID_COOKIE_NAME)},g.prototype.getBundle=function(){return this.getFromAllStorages(g.BUNDLE_COOKIE_NAME)},g.prototype.setBundle=function(t){this.writeOnAllStorages(g.BUNDLE_COOKIE_NAME,t,g.GUID_RETENTION_TIME_HOUR)},g.prototype.deleteBundle=function(){this.deleteFromAllStorage(g.BUNDLE_COOKIE_NAME)},g.prototype.getClientSideOptOut=function(){var t=this.getFromAllStorages(g.OPTOUT_COOKIE_NAME);return{value:"1"===t.value,origin:t.origin}},g.prototype.setClientSideOptOut=function(){this.writeOnAllStorages(g.OPTOUT_COOKIE_NAME,"1",g.OPTOUT_RETENTION_TIME_HOUR)},g.prototype.getClientSideSecureId=function(){return this.getFromAllStorages(g.SECURE_ID_COOKIE_NAME)},g.prototype.setClientSideSecureId=function(t){this.writeOnAllStorages(g.SECURE_ID_COOKIE_NAME,t,g.GUID_RETENTION_TIME_HOUR)},g.prototype.deleteClientSideSecureId=function(){this.deleteFromAllStorage(g.SECURE_ID_COOKIE_NAME)},g.prototype.getClientSideLocalWebId=function(){return this.getFromAllStorages(g.LOCAL_WEB_ID_COOKIE_NAME)},g.prototype.getIfa=function(){var e=this;return this.openPassProvider.getIfaToken(function(t){e.getFromAllStorages(g.IFA_COOKIE_NAME).value!=t&&e.writeOnAllStorages(g.IFA_COOKIE_NAME,t,g.GUID_RETENTION_TIME_HOUR)}),this.getFromAllStorages(g.IFA_COOKIE_NAME)},g.prototype.checkCookiesAreWriteable=function(){var t="cto_writeable";this.cookieHelper.setCookie(t,"1",1,this.topDoc,!0);var e="1"===this.cookieHelper.getCookie(t,this.topDoc);return this.cookieHelper.deleteCookie(t,this.topDoc,!0),e},g.prototype.createGumIframe=function(){var t=this.topDoc.createElement("iframe");return t.src=this.buildSyncframeSrc(),t.id=g.SYNCFRAME_ID,t.style.display="none",t},g.prototype.writeOnAllStorages=function(t,e,i){this.localStorageHelper.setItem(t,e),this.cookieHelper.setCookie(t,e,i,this.topDoc,!0)},g.prototype.getFromAllStorages=function(t){var e=this.cookieHelper.getCookie(t,this.topDoc),i=this.localStorageHelper.getItem(t)||void 0;return{value:e||i,origin:(e&&o.Cookie)|(i&&o.LocalStorage)}},g.prototype.deleteFromAllStorage=function(t){this.cookieHelper.deleteCookie(t,this.topDoc,!0),this.localStorageHelper.removeItem(t)},g.prototype.getTld=function(){var t=this.cookieHelper.setCookie(g.TLD_TEST_COOKIE_NAME,"test",1,this.topDoc,!0);return this.cookieHelper.deleteCookie(g.TLD_TEST_COOKIE_NAME,this.topDoc,!0),t},g.prototype.buildSyncframeSrc=function(){var t,e,i=this.getClientSideUid(),o=this.getClientSideOptOut(),n=this.getClientSideSecureId(),r=this.getClientSideLocalWebId(),s=this.getBundle(),a=this.getIfa(),c=this.getTld(),u=this.isPubTagIds?"publishertagids":"publishertag",l=encodeURIComponent((t=this.topUrl,(e=document.createElement("a")).href=t,{protocol:e.protocol,host:e.host,hostname:e.hostname,pathname:"/"===e.pathname[0]?e.pathname.slice(1):e.pathname,search:e.search,href:e.href}).hostname),p=this.canWriteCookies,d=this.localStorageHelper.localStorageEnabled,h=[];h.push("origin="+u),h.push("topUrl="+l),this.gdprConsent&&(void 0!==this.gdprConsent.gdprApplies&&h.push("gdpr="+(this.gdprConsent.gdprApplies?1:0)),h.push("gdpr_consent="+(this.gdprConsent.consentData?this.gdprConsent.consentData:""))),this.isDebug&&h.push("debug=1");var f=JSON.stringify({optout:o,uid:i,sid:n,origin:u,version:116,lwid:r,tld:c,bundle:s,topUrl:l,cw:p,ifa:a,lsw:d});return g.SYNCFRAME_ENDPOINT+"?"+h.join("&")+"#"+f},g.GUID_COOKIE_NAME="cto_idcpy",g.GUID_RETENTION_TIME_HOUR=9360,g.SECURE_ID_COOKIE_NAME="cto_sid",g.LOCAL_WEB_ID_COOKIE_NAME="cto_lwid",g.BUNDLE_COOKIE_NAME="cto_bundle",g.OPTOUT_COOKIE_NAME="cto_optout",g.IFA_COOKIE_NAME="id_controller_ifa",g.OPTOUT_RETENTION_TIME_HOUR=43200,g.TLD_TEST_COOKIE_NAME="cto_pub_test_tld",g.SYNCFRAME_ID="criteo-syncframe-pbt",g.SYNCFRAME_ORIGIN="https://gum.criteo.com",g.SYNCFRAME_ENDPOINT="https://gum.criteo.com/syncframe",g);function g(t,e,i,o,n,r){this.isDebug=o,this.topWin=i,this.topDoc=i.document,this.cookieHelper=t,this.localStorageHelper=e,this.openPassProvider=new a,this.canWriteCookies=this.checkCookiesAreWriteable(),this.topUrl=n,this.isPubTagIds=null!=r&&r}var l=(n.getHighestAccessibleWindow=function(t){var e=t,i=!1;try{for(;e.parent.document!==e.document;){if(!e.parent.document){i=!0;break}e=e.parent}}catch(t){i=!0}return{topFrame:e,err:i}},n.getHighestAccessibleUrl=function(t){var e=t.topFrame;if(!t.err)return e.location.href;try{var i=e.top.location.href;if(i)return i}catch(t){}try{var o=e.location.ancestorOrigins;if(o)return o[o.length-1]}catch(t){}return e.document.referrer},n.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},n);function n(){}function p(t){try{return JSON.parse(t)}catch(t){return}}var d=(v.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,i=0;i<10;++i){try{e.frames.__uspapiLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},v.prototype.hasCallerFunctionInWindow=function(){return"function"==typeof this.currentWindow.__uspapi},v.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||void 0!==this.getCMPFrame()},v.prototype.retrieveConsent=function(i){var o=this,n=!1,r=window.setTimeout(function(){n=!0,o.logger("Timeout: Unable to resolve CCPA consent after "+o.timeout+"ms"),i(void 0)},this.timeout);this.executeCommand("getUSPData",1,function(t,e){n||(clearTimeout(r),e?(o.logger("CCPA consent retrieved"),o.processResponseData(t,i)):(o.logger("Error retrieving CCPA consent data from CMP"),i(void 0)))})},v.prototype.processResponseData=function(t,e){t?e(t):(this.logger("Unable to read CCPA consent data from CMP"),e(void 0))},v.prototype.executeCommand=function(t,e,i){var r=this;if(!this.hasCallerFunctionInWindow()){this.logger("No CCPA CMP defined on current frame");var s=this.getCMPFrame();this.currentWindow.__uspapi=function(t,e,i){if(!s)return r.logger("CCPA CMP not found in any frame"),void i({msg:"CCPA CMP not found in any frame"},!1);var o=Math.random().toString(10),n={__uspapiCall:{command:t,parameter:e,callId:o}};r.uspapiCallbacks[o]=i,s.postMessage(n,"*")},this.currentWindow.addEventListener("message",function(t){var e="string"==typeof t.data?p(t.data):t.data;if(e&&e.__uspapiReturn&&e.__uspapiReturn.callId&&e.__uspapiReturn.returnValue){var i=e.__uspapiReturn;r.uspapiCallbacks&&r.uspapiCallbacks[i.callId]&&(r.uspapiCallbacks[i.callId](i.returnValue,i.success),delete r.uspapiCallbacks[i.callId])}},!1)}this.currentWindow.__uspapi(t,e,i)},v.prototype.hasUserOptOut=function(t){return!(!t||!t.uspString||"1YNY"===t.uspString.toUpperCase()||"1YNN"===t.uspString.toUpperCase()||"1YN-"===t.uspString.toUpperCase()||"1-N-"===t.uspString.toUpperCase()||"1---"===t.uspString)},v);function v(t,e,i){void 0===i&&(i=function(t){}),this.uspapiCallbacks={},this.currentWindow=t,this.timeout=e.uspApiTimeout,this.logger=i}var m=(C.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?this.tcfv1ConsentProvider:void 0},C.prototype.retrieveConsentForPassback=function(t){var e=this.getReadyToRetrieveProvider();void 0===e&&(this.logger("No compatible GDPR privacy provider found"),t(void 0)),e===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(t):e===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(t)},C.prototype.retrieveConsent=function(t){var e=this.getReadyToRetrieveProvider();void 0===e&&(this.logger("No compatible GDPR privacy provider found"),t(void 0)),null==e||e.retrieveConsent(t)},C.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},C);function C(t,e,i){void 0===i&&(i=function(t){}),this.tcfv1ConsentProvider=t,this.tcfv2ConsentProvider=e,this.logger=i}var y=(_.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,i=0;i<10;++i){try{e.frames.__cmpLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},_.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__cmp},_.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},_.prototype.pingWithTimeout=function(o,t,e,i){function n(t,e){r.logger(e),clearTimeout(t),i()}var r=this;return window.setTimeout(function(){var i=window.setTimeout(function(){n(o,"Timeout: Unable to get ping return after "+t+"ms")},t);r.executeCommand("ping",null,function(t,e){clearTimeout(i),e?(r.logger("GDPR CMP ping returned"),!0!==t.cmpLoaded&&n(o,"GDPR ping returned cmpLoaded which is not true"),r.logger("GDPR ping returned cmpLoaded which is true")):n(o,"Error sending ping to GDPR CMP")})},e)},_.prototype.retrieveConsent=function(t){this.executeRetrieveConsent("getConsentData",null,t)},_.prototype.retrieveConsentForPassback=function(t){this.executeRetrieveConsent("getVendorConsents",[91],t)},_.prototype.executeRetrieveConsent=function(t,e,i){var o=this,n=!1,r=window.setTimeout(function(){n=!0,o.logger("Timeout: Unable to resolve GDPR consent after "+o.timeout+"ms"),i(void 0)},this.timeout),s=!1!==this.cmpAutoDetect?this.pingWithTimeout(r,this.pingTimeout,this.pingDelay,function(){n=!0,o.logger("Timeout: Unable to ping GDPR API after "+o.pingTimeout+"ms"),i(void 0)}):void 0;this.executeCommand(t,e,function(t,e){clearTimeout(s),n||(clearTimeout(r),e?(o.logger("GDPR consent retrieved"),o.processConsentData(t,i)):(o.logger("Error retrieving GDPR consent data from CMP"),i(void 0)))})},_.prototype.processConsentData=function(t,e){if(t){var i={};void 0!==t.consentData&&(i.consentData=t.consentData),void 0!==t.gdprApplies&&(i.gdprApplies=!!t.gdprApplies),e(i)}else this.logger("Unable to read GDPR consent data from CMP"),e(void 0)},_.prototype.executeCommand=function(t,e,i){var r=this;if(!this.hasCallerFunctionInFrame()){this.logger("No GDPR CMP defined on current frame");var s=this.getCMPFrame();this.currentWindow.__cmp=function(t,e,i){if(!s)return r.logger("GDPR CMP not found in any frame"),void i({msg:"GDPR CMP not found in any frame"},!1);var o=Math.random().toString(10),n={__cmpCall:{command:t,parameter:e,callId:o}};r.cmpCallbacks[o]=i,s.postMessage(n,"*")},this.currentWindow.addEventListener("message",function(t){var e="string"==typeof t.data?p(t.data):t.data;if(e&&e.__cmpReturn&&e.__cmpReturn.callId&&e.__cmpReturn.returnValue){var i=e.__cmpReturn;r.cmpCallbacks&&r.cmpCallbacks[i.callId]&&(r.cmpCallbacks[i.callId](i.returnValue,i.success),delete r.cmpCallbacks[i.callId])}},!1)}this.currentWindow.__cmp(t,e,i)},_);function _(t,e,i){void 0===i&&(i=function(t){}),this.cmpCallbacks={},this.currentWindow=t,this.timeout=e.tcfTimeout,this.pingTimeout=e.tcfPingTimeout,this.pingDelay=e.tcfPingDelay,this.cmpAutoDetect=e.cmpAutoDetect,this.logger=i}var w=(E.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,i=0;i<10;++i){try{e.frames.__tcfapiLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},E.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__tcfapi},E.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},E.prototype.pingWithTimeout=function(i,t,e,o){function n(t,e){r.logger(e),clearTimeout(t),o()}var r=this;return window.setTimeout(function(){var e=window.setTimeout(function(){n(i,"Timeout: Unable to get TCFv2 ping return after "+t+"ms")},t);r.executeCommand("ping",2,function(t){clearTimeout(e),r.logger("TCFv2 CMP ping returned in ms"),"error"===t.cmpStatus?n(i,"Error status on ping to TCFv2 CMP"):!0!==t.cmpLoaded?n(i,"TCFv2 ping returned cmpLoaded = false"):r.logger("TCFv2 ping returned cmpLoaded = true")})},e)},E.prototype.retrieveConsent=function(i){var o=this,n=!1,r=window.setTimeout(function(){n=!0,o.logger("Timeout: Unable to resolve TCFv2 consent after "+o.timeout+"ms"),i(void 0)},this.timeout),s=!1!==this.cmpAutoDetect?this.pingWithTimeout(r,this.pingTimeout,this.pingDelay,function(){n=!0,o.logger("Timeout: Unable to ping TCFv2 API after "+o.pingTimeout+"ms"),i(void 0)}):void 0;this.executeCommand("getTCData",2,function(t,e){clearTimeout(s),n||(clearTimeout(r),e?(o.logger("TCFv2 consent retrieved in ms"),o.processResponseData(t,i)):(o.logger("Error retrieving TCFv2 consent data from CMP"),i(void 0)))},[91])},E.prototype.processResponseData=function(t,e){var i;if(t){var o={};void 0!==t.tcString&&(o.consentData=t.tcString),void 0!==t.gdprApplies&&(o.gdprApplies=!!t.gdprApplies),o.version=t.tcfPolicyVersion?t.tcfPolicyVersion:2,o.purposes=null===(i=null==t?void 0:t.purpose)||void 0===i?void 0:i.consents,e(o)}else this.logger("Unable to read GDPR consent data from CMP"),e(void 0)},E.prototype.executeCommand=function(t,e,i,o){var s=this;if(!this.hasCallerFunctionInFrame()){this.logger("No TCFv2 CMP defined on current frame");var a=this.getCMPFrame();this.currentWindow.__tcfapi=function(t,e,i,o){if(!a)return s.logger("TCFv2 CMP not found in any frame"),void i({msg:"TCFv2 CMP not found in any frame"},!1);var n=Math.random().toString(10),r={__tcfapiCall:{command:t,version:e,parameter:o,callId:n}};s.cmpCallbacks[n]=i,a.postMessage(r,"*")},this.currentWindow.addEventListener("message",function(t){var e="string"==typeof t.data?p(t.data):t.data;if(e&&e.__tcfapiReturn&&e.__tcfapiReturn.callId&&e.__tcfapiReturn.returnValue){var i=e.__tcfapiReturn;s.cmpCallbacks&&s.cmpCallbacks[i.callId]&&"function"==typeof s.cmpCallbacks[i.callId]&&(s.cmpCallbacks[i.callId](i.returnValue,i.success),delete s.cmpCallbacks[i.callId])}},!1)}this.currentWindow.__tcfapi(t,e,i,o)},E);function E(t,e,i){void 0===i&&(i=function(t){}),this.cmpCallbacks={},this.currentWindow=t,this.timeout=e.tcfTimeout,this.pingTimeout=e.tcfPingTimeout,this.pingDelay=e.tcfPingDelay,this.cmpAutoDetect=e.cmpAutoDetect,this.logger=i}var I=(S.prototype.checkLocalStorage=function(t){if(!this.localStorage)return!1;var e=this.CHECK_STORAGE_KEY;try{return this.localStorage.setItem(e,e),this.localStorage.removeItem(e),!!this.checkTcfPurposeOne(t)||(h.Debug("Purpose One not granted"),!1)}catch(t){return!1}},S.prototype.checkTcfPurposeOne=function(t){return!t||!t.purposes||!0===t.purposes[1]},S.prototype.removeItem=function(t){this.localStorageEnabled&&(this.localStorage.removeItem(t),this.localStorage.removeItem(t+this.EXPIRE_SUFFIX))},S.prototype.getItem=function(t,e){if(!this.localStorageEnabled)return null;var i=(new Date).getTime(),o=this.localStorage.getItem(t+this.EXPIRE_SUFFIX),n=o?parseInt(o,10):-1;return-1!==n&&n<i||e&&(-1===n||e<n-i)?(this.removeItem(t),null):this.localStorage.getItem(t)},S.prototype.setItem=function(t,e,i){if(this.localStorageEnabled)try{if(this.localStorage.setItem(t,e),i){var o=(new Date).getTime()+i;this.localStorage.setItem(t+this.EXPIRE_SUFFIX,o.toString())}}catch(t){}},S.prototype.getAllItemsByPrefix=function(t){var e=[];if(this.localStorageEnabled)for(var i in localStorage)0===i.indexOf(t)&&e.push(i);return e},S);function S(t,e){this.EXPIRE_SUFFIX="_expires",this.CHECK_STORAGE_KEY="criteo_localstorage_check",this.localStorage=function(t){try{return t.localStorage}catch(t){return}}(t||window),this.localStorageEnabled=this.checkLocalStorage(e)}var b=(P.prototype.checkTcfPurposeOne=function(t){return!t||!t.purposes||!0===t.purposes[1]},P.prototype.setCookie=function(t,e,i,o,n){void 0===n&&(n=!1);var r=o||document,s=r.location.hostname,a=new Date;a.setTime(a.getTime()+60*i*60*1e3);var c="expires="+a.toUTCString();if(!n)return this.setCookieString(t,e,c,void 0,r),s;for(var u=s.split("."),l=0;l<u.length;++l){var p=u.slice(u.length-l-1,u.length).join(".");this.setCookieString(t,e,c,p,r);var d=this.getCookie(t,o);if(d&&d===e)return p}return s},P.prototype.deleteCookie=function(t,e,i){void 0===i&&(i=!1),this.setCookie(t,"",0,e,i)},P.prototype.getCookie=function(t,e){if(this.cookiesEnabled)for(var i=0,o=(e||document).cookie.split(";");i<o.length;i++){var n=o[i],r=n.substr(0,n.indexOf("=")).replace(/^\s+|\s+$/g,""),s=n.substr(n.indexOf("=")+1);if(r===t)return decodeURIComponent(s)}},P.prototype.setCookieString=function(t,e,i,o,n){if(this.cookiesEnabled){var r=t+"="+encodeURIComponent(e)+";"+i+";";o&&""!==o&&(r+="domain=."+o+";"),n.cookie=r+"path=/"}},P);function P(t){this.cookiesEnabled=this.checkTcfPurposeOne(t)}var T=(A.prototype.initializeServices=function(){var o=this;this.initializing=!0,this.retrievePrivacyConsent(function(t,e){var i={localStorageHelper:new I(o.topFrame,e),gdprConsent:e,ccpaConsentProvider:o.ccpaConsentProvider,ccpaConsent:t,cookieHelper:new b(e)};o.services=i,o.initialized=!0,o.initializing=!1,o.postInitiliazeServicesCallbacks.forEach(function(t){t(i)})})},A.prototype.getServicesAsync=function(t){this.initialized?t(this.services):(this.postInitiliazeServicesCallbacks.push(t),this.initializing||this.initializeServices())},A.prototype.retrievePrivacyConsent=function(e){var t=this.tcfCompatibleConsentProvider.readyToRetrieve(),i=this.ccpaConsentProvider.readyToRetrieve();t||i||e(void 0,void 0);var o,n,r=[];t&&r.push(m),i&&r.push(d),t&&this.tcfCompatibleConsentProvider.retrieveConsent(function(t){r.splice(r.indexOf(m),1),0===r.length?e(n,t):o=t}),i&&this.ccpaConsentProvider.retrieveConsent(function(t){r.splice(r.indexOf(d),1),0===r.length?e(t,o):n=t})},A);function A(t,e,i,o){this.initializing=!1,this.initialized=!1,this.postInitiliazeServicesCallbacks=[],this.topFrame=t||window;var n,r=(n=o,{uspApiTimeout:parseInt("50",10),tcfTimeout:parseInt("10000",10),tcfPingTimeout:Math.min(parseInt("10000",10),parseInt("50",10)),tcfPingDelay:Math.min(parseInt("10000",10),parseInt("1000",10)),cmpAutoDetect:null==n?void 0:n.cmpAutoDetect});this.ccpaConsentProvider=e||new d(window,r,h.Warning);var s=new y(window,r,h.Warning),a=new w(window,r,h.Warning);this.tcfCompatibleConsentProvider=i||new m(s,a,h.Warning),this.initializeServices()}function O(t){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(t)}var D=(k.prototype.getQueryStringParams=function(t){var e={},i=t.split("?");if(1<i.length)for(var o=0,n=i[1].split("&");o<n.length;o++){var r=n[o].split("=");e[u(r[0])]=u(r[1])}return e},k.prototype.synchronizeCriteoUid=function(t,e,i,o,n,r,s){var a,c=(null===(a=this.cookieSynchronizerFactory)||void 0===a?void 0:a.call(this))||new f(e,t,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl,this.isPubTagIds);i(c.getClientSideUid().value,c.getClientSideOptOut().value,c.getClientSideSecureId().value,c.getBundle().value);var u,l,p,d=new Promise(function(e,t){c.synchronizeCriteoUid(s,function(t){h.Debug("Resolving GPT ESP Promise"),o(),e(t)})});u=d,void 0===(l=n)&&(l=function(){}),void 0===(p=r)&&(p=function(){}),O(function(){window.googletag.encryptedSignalProviders||(window.googletag.encryptedSignalProviders=[]),h.Debug("Promise set for GPT ESP"),window.googletag.encryptedSignalProviders.push({id:"esp.criteo.com",collectorFunction:function(){return h.Debug("Returning Promise to GPT"),l(),u}}),p()})},k.prototype.getServicesAndSyncCriteoUid=function(i,o,n,r){var s=this;void 0===i&&(i=function(t,e,i,o){}),void 0===o&&(o=function(){}),void 0===n&&(n=function(){}),void 0===r&&(r=function(){}),this.serviceProvider.getServicesAsync(function(t){var e;(null===(e=t.ccpaConsentProvider)||void 0===e?void 0:e.hasUserOptOut(t.ccpaConsent))||s.synchronizeCriteoUid(t.localStorageHelper,t.cookieHelper,i,o,n,r,t.gdprConsent)})},k.setIdentities=function(){return 42},k);function k(t,e,i,o,n,r){this.highestAccessibleWindowStruct=l.getHighestAccessibleWindow(e),this.highestAccessibleUrl=l.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);var s,a=this.getQueryStringParams(this.highestAccessibleUrl);this.debugMode="1"===a.pbt_debug||!1,this.debugMode&&(s=c.Debug,h.LOGLEVEL=s),this.isPubTagIds=r,this.cookieSynchronizerFactory=i,this.serviceProvider=o||new T(this.highestAccessibleWindowStruct.topFrame,void 0,void 0,n)}var M=(F.VERSION=116,F);function F(t){var e;void 0===t&&(t=null===(e=window.Criteo_identitytag_116||window.Criteo)||void 0===e?void 0:e.config),this.identityHelper=new D(document,window,void 0,void 0,t,!0),this.identityHelper.getServicesAndSyncCriteoUid(),h.Debug("Publisher Tag loaded")}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var R,U=(function(t,e){var i;i=function(){function c(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,e=void 0,n=void 0,s=function(t,e){d[o]=t,d[o+1]=e,2===(o+=2)&&(n?n(h):C())};var t="undefined"!=typeof window?window:void 0,r=t||{},a=r.MutationObserver||r.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(h,1)}}var d=new Array(1e3);function h(){for(var t=0;t<o;t+=2){(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0}o=0}var f,g,v,m,C=void 0;function y(t,e){var i=this,o=new this.constructor(E);void 0===o[w]&&N(o);var n=i._state;if(n){var r=arguments[n-1];s(function(){return R(n,o,r,i._result)})}else M(i,o,t,e);return o}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(E);return A(e,t),e}C=u?function(){return process.nextTick(h)}:a?(g=0,v=new a(h),m=document.createTextNode(""),v.observe(m,{characterData:!0}),function(){m.data=g=++g%2}):l?((f=new MessageChannel).port1.onmessage=h,function(){return f.port2.postMessage(0)}):(void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(h)}:p()}catch(t){return p()}}:p)();var w=Math.random().toString(36).substring(2);function E(){}var I=void 0,S=1,b=2;function P(t,o,n){s(function(e){var i=!1,t=function(t,e,i,o){try{t.call(e,i,o)}catch(t){return t}}(n,o,function(t){i||(i=!0,(o!==t?A:D)(e,t))},function(t){i||(i=!0,k(e,t))},e._label);!i&&t&&(i=!0,k(e,t))},t)}function T(t,e,i){var o,n;e.constructor===t.constructor&&i===y&&e.constructor.resolve===_?(o=t,(n=e)._state===S?D(o,n._result):n._state===b?k(o,n._result):M(n,void 0,function(t){return A(o,t)},function(t){return k(o,t)})):void 0===i?D(t,e):c(i)?P(t,e,i):D(t,e)}function A(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(o=t),null===o||"object"!=n&&"function"!=n)D(e,t);else{var i=void 0;try{i=t.then}catch(t){return void k(e,t)}T(e,t,i)}var o,n}function O(t){t._onerror&&t._onerror(t._result),F(t)}function D(t,e){t._state===I&&(t._result=e,t._state=S,0!==t._subscribers.length&&s(F,t))}function k(t,e){t._state===I&&(t._state=b,t._result=e,s(O,t))}function M(t,e,i,o){var n=t._subscribers,r=n.length;t._onerror=null,n[r]=e,n[r+S]=i,n[r+b]=o,0===r&&t._state&&s(F,t)}function F(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var o=void 0,n=void 0,r=t._result,s=0;s<e.length;s+=3)o=e[s],n=e[s+i],o?R(i,o,n,r):n(r);t._subscribers.length=0}}function R(t,e,i,o){var n=c(i),r=void 0,s=void 0,a=!0;if(n){try{r=i(o)}catch(t){a=!1,s=t}if(e===r)return void k(e,new TypeError("A promises callback cannot return that same promise."))}else r=o;e._state!==I||(n&&a?A(e,r):!1===a?k(e,s):t===S?D(e,r):t===b&&k(e,r))}var U=0;function N(t){t[w]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}var L=(W.prototype._enumerate=function(t){for(var e=0;this._state===I&&e<t.length;e++)this._eachEntry(t[e],e)},W.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,o=i.resolve;if(o===_){var n=void 0,r=void 0,s=!1;try{n=e.then}catch(t){s=!0,r=t}if(n===y&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===x){var a=new i(E);s?k(a,r):T(a,e,n),this._willSettleAt(a,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},W.prototype._settledAt=function(t,e,i){var o=this.promise;o._state===I&&(this._remaining--,t===b?k(o,i):this._result[e]=i),0===this._remaining&&D(o,this._result)},W.prototype._willSettleAt=function(t,e){var i=this;M(t,void 0,function(t){return i._settledAt(S,e,t)},function(t){return i._settledAt(b,e,t)})},W);function W(t,e){this._instanceConstructor=t,this.promise=new t(E),this.promise[w]||N(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&D(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}var x=(G.prototype.catch=function(t){return this.then(null,t)},G.prototype.finally=function(e){var i=this.constructor;return c(e)?this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):this.then(e,e)},G);function G(t){this[w]=U++,this._result=this._state=void 0,this._subscribers=[],E!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof G?function(e,t){try{t(function(t){A(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return x.prototype.then=y,x.all=function(t){return new L(this,t).promise},x.race=function(n){var r=this;return i(n)?new r(function(t,e){for(var i=n.length,o=0;o<i;o++)r.resolve(n[o]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},x.resolve=_,x.reject=function(t){var e=new this(E);return k(e,t),e},x._setScheduler=function(t){n=t},x._setAsap=function(t){s=t},x._asap=s,x.polyfill=function(){var t=void 0;if(void 0!==H)t=H;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=x},x.Promise=x},t.exports=i()}(R={exports:{}},R.exports),R.exports).polyfill,N=(L.LoadPolyfills=function(){L.DefineIsArray(),L.DefineIndexOf(),L.DefineFilter(),L.DefinePromise()},L.DefinePromise=function(){window.Promise||U()},L.DefineIsArray=function(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},L.DefineIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===e&&(e=0),void 0===this)throw new TypeError("'this' is null or not defined");var i=this.length;if(0===i)return-1;if(i<=e)return-1;for(var o=Math.max(0<=e?e:i-Math.abs(e),0);o<i;){if(o in this&&this[o]===t)return o;o++}return-1})},L.DefineFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||void 0===this)throw new TypeError;var e=this.length;if("function"!=typeof t)throw new TypeError;for(var i=[],o=2<=arguments.length?arguments[1]:void 0,n=0;n<e;n++)if(n in this){var r=this[n];t.call(o,r,n,this)&&i.push(r)}return i})},L);function L(){}function W(t){function e(){try{return i.apply(this,arguments)}catch(t){h.Error("Exception caught: "+t.toString())}}var i=t;for(var o in e.prototype=i.prototype,i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e}window.criteo_pubtag||(N.LoadPolyfills(),window.criteo_pubtag=new M,window.criteo_identitytag_116=window.criteo_pubtag),window.Criteo=function t(e){for(var i in e)if(i in e){var o=e[i];"function"==typeof o?e[i]=W(o):"object"==typeof o&&(e[i]=t(o))}return e}({SetIdentities:D.setIdentities}),window.Criteo_identitytag_116=window.Criteo}();